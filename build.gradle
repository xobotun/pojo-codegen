plugins {
    id 'java'
    id 'idea'
}

group 'com.xobotun'
version '0.0.0'

sourceCompatibility = 1.11

repositories {
    mavenCentral()
}

dependencies {
    compile 'ch.qos.logback:logback-classic:1.2.3'

    compileOnly 'org.projectlombok:lombok:1.18.2'
    testCompileOnly 'org.projectlombok:lombok:1.18.2'
    testCompile 'junit:junit:4.12'
}

//https://www.baeldung.com/gradle-fat-jar
task customFatJar(type: Jar) {
    manifest {
        attributes 'Main-Class': 'com.xobotun.pojocodegen.Main',
                'Implementation-Version': version
    }
    baseName = 'pojo-codegen'
    from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }
    with jar
}
